var Chart=function(a,b){function e(a,b,d,e){c.tooltips.push(new f(a,b,d,e))}function i(a){for(var b=0,c=0;a;)b+=a.offsetLeft+a.clientLeft,c+=a.offsetTop+a.clientTop,a=a.offsetParent;return window.pageXOffset>0||window.pageYOffset>0?(b-=window.pageXOffset,c-=window.pageYOffset):(document.body.scrollLeft>0||document.body.scrollTop>0)&&(b-=document.body.scrollLeft,c-=document.body.scrollTop),{x:b,y:c}}function q(a,b,c){var d=b.steps*b.stepValue,e=a-b.graphMin,f=z(e/d,1,0);return c*b.steps*f}function r(a,b,c,e){function i(){var d=a.animation?z(g(h),null,0):1;j(e),a.scaleOverlay?(c(d),b()):(b(),c(d))}function k(){h+=f,i(),1>=h?s(k):"function"==typeof a.onAnimationComplete&&a.onAnimationComplete()}var f=a.animation?1/z(a.animationSteps,Number.MAX_VALUE,1):1,g=d[a.animationEasing],h=a.animation?0:1;"function"!=typeof b&&(b=function(){}),s(k)}function t(a,b,c,d,e,f){function p(a){return Math.floor(Math.log(a)/Math.LN10)}var g,h,i,j,k,l,m;for(l=d-e,m=p(l),g=Math.floor(e/(1*Math.pow(10,m)))*Math.pow(10,m),h=Math.ceil(d/(1*Math.pow(10,m)))*Math.pow(10,m),i=h-g,j=Math.pow(10,m),k=Math.round(i/j);c>k||k>b;)c>k?(j/=2,k=Math.round(i/j)):(j*=2,k=Math.round(i/j));var o=[];return u(f,o,k,g,j),{steps:k,stepValue:j,graphMin:g,labels:o}}function u(a,b,c,d,e){if(a)for(var f=1;c+1>f;f++)b.push(D(a,{value:(d+e*f).toFixed(A(e))}))}function v(a){return Math.max.apply(Math,a)}function w(a){return Math.min.apply(Math,a)}function x(a,b){return a?a:b}function y(a){return!isNaN(parseFloat(a))&&isFinite(a)}function z(a,b,c){return y(b)&&a>b?b:y(c)&&c>a?c:a}function A(a){return 0!=a%1?(""+a).split(".")[1].length:0}function B(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}function D(a,b){var c=/\W/.test(a)?Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join(" ").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("   ").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):C[a]=C[a]||D(document.getElementById(a).innerHTML);return b?c(b):c}function E(a,b,c){var e,f,d=document.createElement("div");d.style.color=b,document.body.appendChild(d),e=window.getComputedStyle(d).color,d.style.color=c,f=window.getComputedStyle(d).color;var g=/rgb *\( *([0-9]{1,3}) *, *([0-9]{1,3}) *, *([0-9]{1,3}) *\)/,h=g.exec(e),i=g.exec(f),j=Math.round(parseFloat(h[1])),k=Math.round(parseFloat(h[2])),l=Math.round(parseFloat(h[3])),m=Math.round(parseFloat(i[1])),n=Math.round(parseFloat(i[2])),o=Math.round(parseFloat(i[3])),p=parseInt((j-m)*a+m),q=parseInt((k-n)*a+n),r=parseInt((l-o)*a+o);return d.parentNode.removeChild(d),"rgb("+p+","+q+","+r+")"}var c=this,d={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*a*a:-0.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return 1>(a/=.5)?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0==a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1==a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return 1>(a/=.5)?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),Math.abs(1)>d){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*2*Math.PI/c))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),Math.abs(1)>d){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*a)*Math.sin((1*a-b)*2*Math.PI/c)+1},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(2==(a/=.5))return 1;if(c||(c=1*.3*1.5),Math.abs(1)>d){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return 1>a?-.5*d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*2*Math.PI/c):.5*d*Math.pow(2,-10*(a-=1))*Math.sin((1*a-b)*2*Math.PI/c)+1},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-d.easeOutBounce(1-a)},easeOutBounce:function(a){return 1/2.75>(a/=1)?1*7.5625*a*a:2/2.75>a?1*(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return.5>a?.5*d.easeInBounce(2*a):.5*d.easeOutBounce(2*a-1)+.5}};this.tooltips=[],tooltipDefaults={background:"rgba(0,0,0,0.6)",fontFamily:"'Arial'",fontStyle:"normal",fontColor:"white",fontSize:"12px",padding:{top:10,right:10,bottom:10,left:10},offset:{left:0,top:0},border:{width:0,color:"#000"},showHighlight:!0,highlight:{stroke:{width:1,color:"rgba(230,230,230,0.25)"},fill:"rgba(255,255,255,0.25)"}},b=b?B(tooltipDefaults,b):tooltipDefaults;var f=function(a,d,e){this.ctx=a,this.areaObj=d,this.data=e,this.savedState=null,this.highlightState=null,this.x=null,this.y=null,this.inRange=function(a,b){if(this.areaObj.type)switch(this.areaObj.type){case"rect":return a>=this.areaObj.x&&this.areaObj.x+this.areaObj.width>=a&&b>=this.areaObj.y&&this.areaObj.y+this.areaObj.height>=b;case"circle":return Math.pow(a-this.areaObj.x,2)+Math.pow(b-this.areaObj.y,2)<Math.pow(this.areaObj.r,2);case"shape":for(var c=this.areaObj.points,d=!1,e=-1,f=c.length,g=f-1;f>++e;g=e)(b>=c[e].y&&c[g].y>b||b>=c[g].y&&c[e].y>b)&&(c[g].x-c[e].x)*(b-c[e].y)/(c[g].y-c[e].y)+c[e].x>a&&(d=!d);return d}},this.render=function(d,f){if(null==this.savedState&&(this.ctx.putImageData(c.savedState,0,0),this.savedState=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)),this.ctx.putImageData(this.savedState,0,0),b.showHighlight)if(null==this.highlightState){switch(this.ctx.strokeStyle=b.highlight.stroke.color,this.ctx.lineWidth=b.highlight.stroke.width,this.ctx.fillStyle=b.highlight.fill,this.areaObj.type){case"rect":this.ctx.strokeRect(this.areaObj.x,this.areaObj.y,this.areaObj.width,this.areaObj.height),this.ctx.fillStyle=b.highlight.fill,this.ctx.fillRect(this.areaObj.x,this.areaObj.y,this.areaObj.width,this.areaObj.height);break;case"circle":this.ctx.beginPath(),this.ctx.arc(this.areaObj.x,this.areaObj.y,this.areaObj.r,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.fill();break;case"shape":this.ctx.beginPath(),this.ctx.moveTo(this.areaObj.points[0].x,this.areaObj.points[0].y);for(var g in this.areaObj.points)this.ctx.lineTo(this.areaObj.points[g].x,this.areaObj.points[g].y);this.ctx.stroke(),this.ctx.fill()}this.highlightState=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}else this.ctx.putImageData(this.highlightState,0,0);if(this.x!=d||this.y!=f){var h=d+b.offset.left,i=f+b.offset.top,j=b.padding.left+this.ctx.measureText(this.data).width+b.padding.right;h+j>a.canvas.width&&(h-=0>h-j?h:j),i+24>a.canvas.height&&(i-=24),this.ctx.fillStyle=b.background,this.ctx.fillRect(h,i,j,24),b.border.width>0&&(this.ctx.fillStyle=b.border.color,this.ctx.lineWidth=b.border.width,this.ctx.strokeRect(h,i,j,24)),this.ctx.font=b.fontStyle+" "+b.fontSize+" "+b.fontFamily,this.ctx.fillStyle=b.fontColor,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(e,h+j/2,i+12),this.x=d,this.y=f}}},g=a.canvas.width,h=a.canvas.height;this.savedState=null,a.canvas.onmousemove=function(b){if(c.tooltips.length>0){c.savedState=null==c.savedState?a.getImageData(0,0,a.canvas.width,a.canvas.height):c.savedState;var d=0;for(var e in c.tooltips){var f=i(a.canvas),g=b.clientX-f.x,h=b.clientY-f.y;c.tooltips[e].inRange(g,h)&&(c.tooltips[e].render(g,h),d++)}0==d&&a.putImageData(c.savedState,0,0)}},a.canvas.onmouseout=function(){null!=c.savedState&&a.putImageData(c.savedState,0,0)},window.devicePixelRatio&&(a.canvas.style.width=g+"px",a.canvas.style.height=h+"px",a.canvas.height=h*window.devicePixelRatio,a.canvas.width=g*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(b,d){c.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,showTooltips:!0};var e=d?B(c.PolarArea.defaults,d):c.PolarArea.defaults;return new k(b,e,a)},this.Radar=function(b,d){c.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,showTooltips:!0};var e=d?B(c.Radar.defaults,d):c.Radar.defaults;return new l(b,e,a)},this.Pie=function(b,d){c.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,labelFontFamily:"'Arial'",labelFontStyle:"normal",labelFontSize:12,labelFontColor:"#666",showTooltips:!0};var e=d?B(c.Pie.defaults,d):c.Pie.defaults;return new m(b,e,a)},this.Doughnut=function(b,d){c.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,showTooltips:!0};var e=d?B(c.Doughnut.defaults,d):c.Doughnut.defaults;return new n(b,e,a)},this.Line=function(b,d){c.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,showTooltips:!0};var e=d?B(c.Line.defaults,d):c.Line.defaults;return new o(b,e,a)},this.Bar=function(b,d){c.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,showTooltips:!0};var e=d?B(c.Bar.defaults,d):c.Bar.defaults;return new p(b,e,a)};var j=function(a){a.clearRect(0,0,g,h)},k=function(a,b,c){function n(){d=w([g,h])/2,d-=v([.5*b.scaleFontSize,.5*b.scaleLineWidth]),j=2*b.scaleFontSize,b.scaleShowLabelBackdrop&&(j+=2*b.scaleBackdropPaddingY,d-=1.5*b.scaleBackdropPaddingY),k=d,j=x(j,5)}function o(){for(var a=0;i.steps>a;a++)if(b.scaleShowLine&&(c.beginPath(),c.arc(g/2,h/2,f*(a+1),0,2*Math.PI,!0),c.strokeStyle=b.scaleLineColor,c.lineWidth=b.scaleLineWidth,c.stroke()),b.scaleShowLabels){c.textAlign="center",c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;var d=i.labels[a];if(b.scaleShowLabelBackdrop){var e=c.measureText(d).width;c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(g/2-e/2-b.scaleBackdropPaddingX),Math.round(h/2-f*(a+1)-.5*b.scaleFontSize-b.scaleBackdropPaddingY),Math.round(e+2*b.scaleBackdropPaddingX),Math.round(b.scaleFontSize+2*b.scaleBackdropPaddingY)),c.fill()}c.textBaseline="middle",c.fillStyle=b.scaleFontColor,c.fillText(d,g/2,h/2-f*(a+1))}}function p(d){var j=-Math.PI/2,k=2*Math.PI/a.length,l=1,m=1;b.animation&&(b.animateScale&&(l=d),b.animateRotate&&(m=d));for(var n=0;a.length>n;n++){if(c.beginPath(),c.arc(g/2,h/2,l*q(a[n].value,i,f),j,j+m*k,!1),c.lineTo(g/2,h/2),c.closePath(),c.fillStyle=a[n].color,c.fill(),d>.9999999){var o=void 0!=a[n].label&&""!=a[n].label?a[n].label+": "+a[n].value:a[n].value,p=[{x:g/2,y:h/2}],r=50,s=q(a[n].value,i,f);p.push({x:g/2+s*Math.cos(j),y:h/2+s*Math.sin(j)});for(var t=0;r>=t;t++)p.push({x:g/2+s*Math.cos(j+t/r*m*k),y:h/2+s*Math.sin(j+t/r*m*k)});e(c,{type:"shape",points:p},o,"PolarArea")}b.segmentShowStroke&&(c.strokeStyle=b.segmentStrokeColor,c.lineWidth=b.segmentStrokeWidth,c.stroke()),j+=m*k}}function s(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;a.length>d;d++)a[d].value>b&&(b=a[d].value),c>a[d].value&&(c=a[d].value);var e=Math.floor(k/(.66*j)),f=Math.floor(.5*(k/j));return{maxValue:b,minValue:c,maxSteps:e,minSteps:f}}var d,f,i,j,k,l,m;n(),l=s(),m=b.scaleShowLabels?b.scaleLabel:null,b.scaleOverride?(i={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},u(m,i.labels,i.steps,b.scaleStartValue,b.scaleStepWidth)):i=t(k,l.maxSteps,l.minSteps,l.maxValue,l.minValue,m),f=d/i.steps,r(b,o,p,c)},l=function(a,b,c){function n(d){var j=2*Math.PI/a.datasets[0].data.length;c.save(),c.translate(g/2,h/2);for(var k=0;a.datasets.length>k;k++){var l=q(a.datasets[k].data[0],i,f);if(c.beginPath(),c.moveTo(0,d*-1*l),1==d){var m=g/2+l*Math.cos(0-Math.PI/2),n=h/2+l*Math.sin(0-Math.PI/2),o=b.pointDot?b.pointDotRadius+b.pointDotStrokeWidth:10,p=""!=a.labels[0].trim()?a.labels[0]+": "+a.datasets[k].data[0]:a.datasets[k].data[0];e(c,{type:"circle",x:m,y:n,r:o},p,"Radar")}for(var r=1;a.datasets[k].data.length>r;r++)if(l=q(a.datasets[k].data[r],i,f),c.rotate(j),c.lineTo(0,d*-1*l),1==d){var m=g/2+l*Math.cos(r*j-Math.PI/2),n=h/2+l*Math.sin(r*j-Math.PI/2),o=b.pointDot?b.pointDotRadius+b.pointDotStrokeWidth:10,p=""!=a.labels[r].trim()?a.labels[r]+": "+a.datasets[k].data[r]:a.datasets[k].data[r];e(c,{type:"circle",x:m,y:n,r:o},p,"Radar")}if(c.closePath(),c.fillStyle=a.datasets[k].fillColor,c.strokeStyle=a.datasets[k].strokeColor,c.lineWidth=b.datasetStrokeWidth,c.fill(),c.stroke(),b.pointDot){c.fillStyle=a.datasets[k].pointColor,c.strokeStyle=a.datasets[k].pointStrokeColor,c.lineWidth=b.pointDotStrokeWidth;for(var s=0;a.datasets[k].data.length>s;s++)c.rotate(j),c.beginPath(),c.arc(0,d*-1*q(a.datasets[k].data[s],i,f),b.pointDotRadius,2*Math.PI,!1),c.fill(),c.stroke()}c.rotate(j)}c.restore()}function o(){var e=2*Math.PI/a.datasets[0].data.length;if(c.save(),c.translate(g/2,h/2),b.angleShowLineOut){c.strokeStyle=b.angleLineColor,c.lineWidth=b.angleLineWidth;for(var j=0;a.datasets[0].data.length>j;j++)c.rotate(e),c.beginPath(),c.moveTo(0,0),c.lineTo(0,-d),c.stroke()}for(var k=0;i.steps>k;k++){if(c.beginPath(),b.scaleShowLine){c.strokeStyle=b.scaleLineColor,c.lineWidth=b.scaleLineWidth,c.moveTo(0,-f*(k+1));for(var l=0;a.datasets[0].data.length>l;l++)c.rotate(e),c.lineTo(0,-f*(k+1));c.closePath(),c.stroke()}if(b.scaleShowLabels){if(c.textAlign="center",c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,c.textBaseline="middle",b.scaleShowLabelBackdrop){var m=c.measureText(i.labels[k]).width;c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(-m/2-b.scaleBackdropPaddingX),Math.round(-f*(k+1)-.5*b.scaleFontSize-b.scaleBackdropPaddingY),Math.round(m+2*b.scaleBackdropPaddingX),Math.round(b.scaleFontSize+2*b.scaleBackdropPaddingY)),c.fill()}c.fillStyle=b.scaleFontColor,c.fillText(i.labels[k],0,-f*(k+1))}}for(var n=0;a.labels.length>n;n++){c.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily,c.fillStyle=b.pointLabelFontColor;var o=Math.sin(e*n)*(d+b.pointLabelFontSize),p=Math.cos(e*n)*(d+b.pointLabelFontSize);c.textAlign=e*n==Math.PI||0==e*n?"center":e*n>Math.PI?"right":"left",c.textBaseline="middle",c.fillText(a.labels[n],o,-p)}c.restore()}function p(){d=w([g,h])/2,j=2*b.scaleFontSize;for(var e=0,f=0;a.labels.length>f;f++){c.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily;var i=c.measureText(a.labels[f]).width;i>e&&(e=i)}d-=v([e,1.5*(b.pointLabelFontSize/2)]),d-=b.pointLabelFontSize,d=z(d,null,0),k=d,j=x(j,5)}function s(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;a.datasets.length>d;d++)for(var e=0;a.datasets[d].data.length>e;e++)a.datasets[d].data[e]>b&&(b=a.datasets[d].data[e]),c>a.datasets[d].data[e]&&(c=a.datasets[d].data[e]);var f=Math.floor(k/(.66*j)),g=Math.floor(.5*(k/j));return{maxValue:b,minValue:c,maxSteps:f,minSteps:g}}var d,f,i,j,k,l,m;a.labels||(a.labels=[]),p();var l=s();m=b.scaleShowLabels?b.scaleLabel:null,b.scaleOverride?(i={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},u(m,i.labels,i.steps,b.scaleStartValue,b.scaleStepWidth)):i=t(k,l.maxSteps,l.minSteps,l.maxValue,l.minValue,m),f=d/i.steps,r(b,o,n,c)},m=function(a,b,c){function j(i){var j=-Math.PI/2,k=1,l=1;b.animation&&(b.animateScale&&(k=i),b.animateRotate&&(l=i));for(var m=0;a.length>m;m++){var n=l*a[m].value/d*2*Math.PI;if(c.beginPath(),c.arc(g/2,h/2,k*f,j,j+n),c.lineTo(g/2,h/2),c.closePath(),c.fillStyle=a[m].color,c.fill(),a[m].label&&2*k*f*n/(2*Math.PI)>b.labelFontSize){var o=a[m].labelFontSize||b.labelFontSize+"px";null!=o.match(/^[0-9]+$/g)&&(o+="px"),c.font=b.labelFontStyle+" "+o+" "+b.labelFontFamily,c.fillStyle=E(i,a[m].labelColor||"black",a[m].color);var p=-(j+n)+n/2,q=g/2+k*f*Math.cos(p)-10,r=h/2-k*f*Math.sin(p);c.textAlign="right",-Math.PI/2>p&&(p-=Math.PI,c.textAlign="left",q+=20),c.translate(q,r),c.rotate(-p),c.fillText(a[m].label,0,0),c.rotate(p),c.translate(-q,-r)}if(i>.9999999){var s=void 0!=a[m].label&&""!=a[m].label?a[m].label+": "+a[m].value:a[m].value,t=[{x:g/2,y:h/2}],u=50;t.push({x:g/2+f*Math.cos(j),y:h/2+f*Math.sin(j)});for(var v=0;u>=v;v++)t.push({x:g/2+f*Math.cos(j+v/u*n),y:h/2+f*Math.sin(j+v/u*n)});e(c,{type:"shape",points:t},s,"Pie")}b.segmentShowStroke&&(c.lineWidth=b.segmentStrokeWidth,c.strokeStyle=b.segmentStrokeColor,c.stroke()),j+=n}}for(var d=0,f=w([h/2,g/2])-5,i=0;a.length>i;i++)d+=a[i].value;c.fillStyle="black",c.textBaseline="base",r(b,null,j,c)},n=function(a,b,c){function k(j){var k=-Math.PI/2,l=1,m=1;b.animation&&(b.animateScale&&(l=j),b.animateRotate&&(m=j));for(var n=0;a.length>n;n++){var o=m*a[n].value/d*2*Math.PI;if(c.beginPath(),c.arc(g/2,h/2,l*f,k,k+o,!1),c.arc(g/2,h/2,l*i,k+o,k,!0),c.closePath(),c.fillStyle=a[n].color,c.fill(),j>.9999999){var p=void 0!=a[n].label&&""!=a[n].label?a[n].label+": "+a[n].value:a[n].value,q=[],r=50;q.push({x:g/2+f*Math.cos(k),y:h/2+f*Math.sin(k)});for(var s=0;r>=s;s++)q.push({x:g/2+f*Math.cos(k+s/r*o),y:h/2+f*Math.sin(k+s/r*o)});q.push({x:g/2+i*Math.cos(k+o),y:h/2+i*Math.sin(k+o)});for(var s=r;s>=0;s--)q.push({x:g/2+i*Math.cos(k+s/r*o),y:h/2+i*Math.sin(k+s/r*o)});e(c,{type:"shape",points:q},p,"Doughnut")}b.segmentShowStroke&&(c.lineWidth=b.segmentStrokeWidth,c.strokeStyle=b.segmentStrokeColor,c.stroke()),k+=o}}for(var d=0,f=w([h/2,g/2])-5,i=f*(b.percentageInnerCutout/100),j=0;a.length>j;j++)d+=a[j].value;r(b,null,k,c)},o=function(a,b,c){function x(d){function m(b,c){return v-d*q(a.datasets[b].data[c],i,f)}function o(a){return s+n*a}for(var g=0;a.datasets.length>g;g++){c.strokeStyle=a.datasets[g].strokeColor,c.lineWidth=b.datasetStrokeWidth,c.beginPath(),c.moveTo(s,v-d*q(a.datasets[g].data[0],i,f));for(var h=1;a.datasets[g].data.length>h;h++)b.bezierCurve?c.bezierCurveTo(o(h-.5),m(g,h-1),o(h-.5),m(g,h),o(h),m(g,h)):c.lineTo(o(h),m(g,h));for(var j=b.pointDot?b.pointDotRadius+b.pointDotStrokeWidth:10,h=0;a.datasets[g].data.length>h;h++)if(1==d){var k=""!=(""+a.labels[h]).trim()?a.labels[h]+": "+a.datasets[g].data[h]:a.datasets[g].data[h];e(c,{type:"circle",x:o(h),y:m(g,h),r:j},k,"Line")}if(c.stroke(),b.datasetFill?(c.lineTo(s+n*(a.datasets[g].data.length-1),v),c.lineTo(s,v),c.closePath(),c.fillStyle=a.datasets[g].fillColor,c.fill()):c.closePath(),b.pointDot){c.fillStyle=a.datasets[g].pointColor,c.strokeStyle=a.datasets[g].pointStrokeColor,c.lineWidth=b.pointDotStrokeWidth;for(var l=0;a.datasets[g].data.length>l;l++)c.beginPath(),c.arc(s+n*l,v-d*q(a.datasets[g].data[l],i,f),b.pointDotRadius,0,2*Math.PI,!0),c.fill(),c.stroke()}}}function y(){c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(g-o/2+5,v),c.lineTo(g-o/2-p-5,v),c.stroke(),w>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor;for(var d=0;a.labels.length>d;d++)c.save(),w>0?(c.translate(s+d*n,v+b.scaleFontSize),c.rotate(-(w*(Math.PI/180))),c.fillText(a.labels[d],0,0),c.restore()):c.fillText(a.labels[d],s+d*n,v+b.scaleFontSize+3),c.beginPath(),c.moveTo(s+d*n,v+3),b.scaleShowGridLines&&d>0?(c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+d*n,5)):c.lineTo(s+d*n,v+3),c.stroke();c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(s,v+5),c.lineTo(s,5),c.stroke(),c.textAlign="right",c.textBaseline="middle";for(var e=0;i.steps>e;e++)c.beginPath(),c.moveTo(s-3,v-(e+1)*f),b.scaleShowGridLines?(c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+p+5,v-(e+1)*f)):c.lineTo(s-.5,v-(e+1)*f),c.stroke(),b.scaleShowLabels&&c.fillText(i.labels[e],s-8,v-(e+1)*f)}function z(){var d=1;if(b.scaleShowLabels){c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;for(var e=0;i.labels.length>e;e++){var f=c.measureText(i.labels[e]).width;d=f>d?f:d}d+=10}p=g-d-o,n=Math.floor(p/(a.labels.length-1)),s=g-o/2-p,v=k+b.scaleFontSize/2}function A(){d=h,c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,o=1;for(var e=0;a.labels.length>e;e++){var f=c.measureText(a.labels[e]).width;o=f>o?f:o}o>g/a.labels.length?(w=45,g/a.labels.length<Math.cos(w)*o?(w=90,d-=o):d-=Math.sin(w)*o):d-=b.scaleFontSize,d-=5,j=b.scaleFontSize,d-=j,k=d}function B(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;a.datasets.length>d;d++)for(var e=0;a.datasets[d].data.length>e;e++)a.datasets[d].data[e]>b&&(b=a.datasets[d].data[e]),c>a.datasets[d].data[e]&&(c=a.datasets[d].data[e]);var f=Math.floor(k/(.66*j)),g=Math.floor(.5*(k/j));return{maxValue:b,minValue:c,maxSteps:f,minSteps:g}}var d,f,i,j,k,l,m,n,o,p,s,v,w=0;A(),l=B(),m=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride?(i={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},u(m,i.labels,i.steps,b.scaleStartValue,b.scaleStepWidth)):i=t(k,l.maxSteps,l.minSteps,l.maxValue,l.minValue,m),f=Math.floor(k/i.steps),z(),r(b,y,x,c)},p=function(a,b,c){function y(d){c.lineWidth=b.barStrokeWidth;for(var g=0;a.datasets.length>g;g++){c.fillStyle=a.datasets[g].fillColor,c.strokeStyle=a.datasets[g].strokeColor;for(var h=0;a.datasets[g].data.length>h;h++){var j=s+b.barValueSpacing+n*h+w*g+b.barDatasetSpacing*g+b.barStrokeWidth*g;if(c.beginPath(),c.moveTo(j,v),c.lineTo(j,v-d*q(a.datasets[g].data[h],i,f)+b.barStrokeWidth/2),c.lineTo(j+w,v-d*q(a.datasets[g].data[h],i,f)+b.barStrokeWidth/2),c.lineTo(j+w,v),b.barShowStroke&&c.stroke(),c.closePath(),c.fill(),1==d){var k=j,l=q(a.datasets[g].data[h],i,f),m=v-l,o=w,p=""!=a.labels[h]?a.labels[h]+": "+a.datasets[g].data[h]:a.datasets[g].data[h];e(c,{type:"rect",x:k,y:m,width:o,height:l},p,"Bar")}}}}function z(){c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(g-o/2+5,v),c.lineTo(g-o/2-p-5,v),c.stroke(),x>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor;for(var d=0;a.labels.length>d;d++)c.save(),x>0?(c.translate(s+d*n,v+b.scaleFontSize),c.rotate(-(x*(Math.PI/180))),c.fillText(a.labels[d],0,0),c.restore()):c.fillText(a.labels[d],s+d*n+n/2,v+b.scaleFontSize+3),c.beginPath(),c.moveTo(s+(d+1)*n,v+3),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+(d+1)*n,5),c.stroke();c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(s,v+5),c.lineTo(s,5),c.stroke(),c.textAlign="right",c.textBaseline="middle";for(var e=0;i.steps>e;e++)c.beginPath(),c.moveTo(s-3,v-(e+1)*f),b.scaleShowGridLines?(c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+p+5,v-(e+1)*f)):c.lineTo(s-.5,v-(e+1)*f),c.stroke(),b.scaleShowLabels&&c.fillText(i.labels[e],s-8,v-(e+1)*f)}function A(){var d=1;if(b.scaleShowLabels){c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;for(var e=0;i.labels.length>e;e++){var f=c.measureText(i.labels[e]).width;d=f>d?f:d}d+=10}p=g-d-o,n=Math.floor(p/a.labels.length),w=(n-2*b.scaleGridLineWidth-2*b.barValueSpacing-(b.barDatasetSpacing*a.datasets.length-1)-(b.barStrokeWidth/2*a.datasets.length-1))/a.datasets.length,s=g-o/2-p,v=k+b.scaleFontSize/2}function B(){d=h,c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,o=1;for(var e=0;a.labels.length>e;e++){var f=c.measureText(a.labels[e]).width;o=f>o?f:o}o>g/a.labels.length?(x=45,g/a.labels.length<Math.cos(x)*o?(x=90,d-=o):d-=Math.sin(x)*o):d-=b.scaleFontSize,d-=5,j=b.scaleFontSize,d-=j,k=d}function C(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;a.datasets.length>d;d++)for(var e=0;a.datasets[d].data.length>e;e++)a.datasets[d].data[e]>b&&(b=a.datasets[d].data[e]),c>a.datasets[d].data[e]&&(c=a.datasets[d].data[e]);var f=Math.floor(k/(.66*j)),g=Math.floor(.5*(k/j));return{maxValue:b,minValue:c,maxSteps:f,minSteps:g}}var d,f,i,j,k,l,m,n,o,p,s,v,w,x=0;B(),l=C(),m=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride?(i={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},u(m,i.labels,i.steps,b.scaleStartValue,b.scaleStepWidth)):i=t(k,l.maxSteps,l.minSteps,l.maxValue,l.minValue,m),f=Math.floor(k/i.steps),A(),r(b,z,y,c)},s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),C={}};